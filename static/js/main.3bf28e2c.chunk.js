(this["webpackJsonpvanbuilder-react"]=this["webpackJsonpvanbuilder-react"]||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(2),s=n.n(r),a=(n(5),n(0));var o=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsxs)("p",{children:["Edit ",Object(a.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(a.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]})})},l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=n(6),u=n(3);function j(e,t,n,c){var i;c&&(i=JSON.stringify(c));var r=new XMLHttpRequest,s="http://localhost:8000/api".concat(t);r.responseType="json";var a=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),c=0;c<n.length;c++){var i=n[c].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}("csrftoken");r.open(e,s),r.setRequestHeader("Content-Type","application/json"),a&&(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-CSRFToken",a)),r.onload=function(){403===r.status&&("Authentication credentials were not provided."===r.response.detail&&-1===window.location.href.indexOf("login")&&(window.location.href="/login?showLoginRequired=true"));n(r.response,r.status)},r.onerror=function(e){n({message:"The request was an error"},400)},r.send(i)}function b(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(!0),b=Object(u.a)(d,2),f=b[0],p=b[1];return Object(c.useEffect)((function(){if(!1===o){j("GET","/build/list/",(function(e,t){200===t?(i(e),l(!0)):204===t?p(!1):alert("There was an error")}))}}),[o,l,f,p]),Object(a.jsxs)("div",{className:"build-list-container",children:[!0===f&&Object(a.jsx)("div",{children:n.map((function(e,t){return Object(a.jsx)(h,{build:e},"".concat(t,"-{item.id}"))}))}),!1===f&&Object(a.jsx)("h3",{children:"You haven't created a build yet!"})]})}function h(e){var t=e.build;return Object(a.jsx)("div",{className:"build-list-item",onClick:function(e){e.preventDefault(),window.location.href="/builds/".concat(t.id,"/")},children:Object(a.jsxs)("div",{className:"build-list-item-content",children:[Object(a.jsxs)("div",{className:"build-list-item-content-text",children:[Object(a.jsx)("h3",{children:t.build_title}),Object(a.jsxs)("p",{children:["Van:\u2003",t.vehicle_info]}),Object(a.jsxs)("p",{children:["Budget:\u2003$",t.budget]}),Object(a.jsxs)("p",{children:["Last Updated:\u2003",t.last_updated]})]}),Object(a.jsx)("img",{src:t.image})]})})}var f=n.p+"static/media/arrowButton.34c4bd34.svg";function p(e){return Object(a.jsxs)("div",{className:"centered",style:{marginTop:"20vh"},children:[Object(a.jsxs)("div",{className:"build-list-view-title",children:[Object(a.jsx)("h1",{children:"Your Builds"}),Object(a.jsxs)("a",{className:"arrow-btn",onClick:function(e){e.preventDefault(),window.location.href="/builds/new-build/"},children:["Start New Build",Object(a.jsx)("img",{src:f})]})]}),Object(a.jsx)("hr",{}),Object(a.jsx)(b,Object(d.a)({},e))]})}var m=n.p+"static/media/Logo.fc55694e.png";function v(e){return Object(a.jsxs)("div",{className:"centered",children:[Object(a.jsx)("img",{className:"main-logo",src:m,alt:"van builter logo"}),Object(a.jsxs)("div",{className:"btn-group",children:[Object(a.jsxs)("a",{className:"arrow-btn",onClick:function(e){e.preventDefault(),window.location.href="builds"},children:["Start Building",Object(a.jsx)("img",{src:f})]}),Object(a.jsxs)("a",{className:"arrow-btn",onClick:function(e){e.preventDefault(),window.location.href="login"},children:["Login / Signup",Object(a.jsx)("img",{src:f})]})]})]})}var g=document.getElementById("root");g&&s.a.render(Object(a.jsx)(o,{}),g);var O=i.a.createElement;document.querySelectorAll(".landing-page").forEach((function(e){s.a.render(O(v,e.dataset),e)})),document.querySelectorAll(".build-list").forEach((function(e){s.a.render(O(p,e.dataset),e)})),l(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.3bf28e2c.chunk.js.map